# 核心需求拆解

## 限速抓取

遵守目标 API 的限速（每分钟 1 ～ 5 次），定时把数据取下来。

要能在后台「闲时」持续运行，不影响主业务。

## 本地缓存

把 API 的响应结果保存到数据库（Redis / SQLite / PostgreSQL / MongoDB 都行）。

对外提供时，优先返回缓存。

## 对外再暴露 API

给自己的服务或者用户提供「高频访问」接口。

外部调用不再直接命中第三方 API，而是命中你的缓存层。

# 缓存类型

## 固定地址，变化数据

- 天气 API，如：`/weather/Shanghai`，请求地址是固定的，但数据是变化的。

## 固定地址，固定数据

- 配置 API，如：`/config`，请求地址是固定的，但数据是固定的。

## 变动地址，变化数据

- 搜索 API，如：`/search?q=Shanghai`，请求地址是变动的，但数据是变化的。

## 热点缓存

- 一条数据被多次访问，则延长其缓存时间。

